import{validarEmail}from"./../validadores/validacionesLogin.js";import{validarFormatoAlfabetico,validarVacio}from"../validadores/validaciones.js";import{mostrarError,mostrarExito,habilitarBoton}from"./../doms/dom.js";import{validarPasswordRegister,validarFormatoPassword,validarNumeroTelefonico}from"../validadores/validacionesRegistro.js";const nombreInput=document.getElementById("name"),lastNameInput=document.getElementById("last_name"),emailInput=document.getElementById("email"),passwordInput=document.getElementById("password"),passwordVerifyInput=document.getElementById("passwordVerify"),phoneInput=document.getElementById("phone");export function inicializarEventos(){lastNameInput.addEventListener("input",(()=>validarNombreGenerico(lastNameInput,"last_name"))),nombreInput.addEventListener("input",(()=>validarNombreGenerico(nombreInput,"name"))),emailInput.addEventListener("input",validarEmailEnTiempoReal),phoneInput.addEventListener("input",validarTelefonoEnTiempoReal),passwordInput.addEventListener("input",validarPasswordEnTiempoReal),passwordVerifyInput.addEventListener("input",validarConfirmacionPassword),document.querySelector("#registerForm").addEventListener("submit",manejarSubmit),window.addEventListener("load",(()=>habilitarBoton("registerForm",!1)))}function validarNombreGenerico(a,o){validarVacio(a.value.trim())?mostrarError(o,"El campo no puede estar vacío."):validarFormatoAlfabetico(a.value)?mostrarExito(o):mostrarError(o,"El campo solo puede contener letras."),actualizarEstadoBoton()}function validarEmailEnTiempoReal(){validarVacio(emailInput.value)?mostrarError("email","Porfavor Ingresa un email."):validarEmail(emailInput.value)?mostrarExito("email"):mostrarError("email","El email no cumple con un formato válido."),actualizarEstadoBoton()}function validarTelefonoEnTiempoReal(){validarVacio(phoneInput.value)?mostrarError("phone","Porfavor ingresa un numero telefonico."):validarNumeroTelefonico(phoneInput.value)?mostrarExito("phone"):mostrarError("phone","El formato del telefono debe ser como el siguiente +525611889450."),actualizarEstadoBoton()}function validarPasswordEnTiempoReal(){const a=passwordInput.value;validarVacio(a)?mostrarError("password","Por favor, ingresa tu contraseña."):validarFormatoPassword(a)?(mostrarExito("password"),passwordVerifyInput.disabled=!1):mostrarError("password","La contraseña debe tener al menos 8 caracteres, incluir mayúsculas, minúsculas, un número y un símbolo especial."),actualizarEstadoBoton()}function validarConfirmacionPassword(){validarVacio(passwordVerifyInput.value)?mostrarError("passwordVerify","Debes confirmar tu contraseña."):passwordVerifyInput.value!==passwordInput.value?mostrarError("passwordVerify","Las contraseñas no coinciden."):mostrarExito("passwordVerify"),actualizarEstadoBoton()}function manejarSubmit(a){let o=0;!validarFormatoAlfabetico(nombreInput.value)||validarVacio(nombreInput.value)?(mostrarError("name","El nombre es obligatorio y solo puede contener letras."),o++):mostrarExito("name"),validarEmail(emailInput.value)?mostrarExito("email"):(mostrarError("email","Por favor, ingresa un correo válido."),o++),validarFormatoPassword(passwordInput.value)?mostrarExito("password"):(mostrarError("password","La contraseña no cumple con los requisitos de seguridad."),o++),passwordVerifyInput.value!==passwordInput.value?(mostrarError("passwordVerify","Las contraseñas no coinciden."),o++):mostrarExito("passwordVerify"),o>0&&a.preventDefault()}function actualizarEstadoBoton(){habilitarBoton("registerForm",sonTodosLosCamposValidos)}function sonTodosLosCamposValidos(){const a=!validarVacio(nombreInput.value)&&validarFormatoAlfabetico(nombreInput.value),o=!validarVacio(lastNameInput.value)&&validarFormatoAlfabetico(lastNameInput.value),r=!validarVacio(phoneInput.value)&&validarNumeroTelefonico(phoneInput.value),e=validarEmail(emailInput.value),t=validarPasswordRegister(passwordInput.value),i=passwordInput.value===passwordVerifyInput.value;return a&&e&&t&&i&&o&&r}