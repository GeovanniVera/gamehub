import{validarEmail,validarPassword,validarFormulario}from"../validadores/validacionesLogin.js";import{mostrarError,mostrarExito,habilitarBoton}from"../doms/dom.js";const emailInput=document.getElementById("email"),passwordInput=document.getElementById("password");export function inicializarEventos(){emailInput.addEventListener("input",validarEmailEnTiempoReal),passwordInput.addEventListener("input",validarPasswordEnTiempoReal),document.querySelector("#loginForm").addEventListener("submit",manejarSubmit),window.addEventListener("load",(()=>habilitarBoton("loginForm",!1)))}function validarEmailEnTiempoReal(){validarEmail(this.value)?(mostrarExito("email"),passwordInput.disabled=!1):(mostrarError("email","El email no cumple con un formato válido."),passwordInput.disabled=!0),actualizarEstadoBoton()}function validarPasswordEnTiempoReal(){""===this.value.trim()?mostrarError("password","Por favor, ingresa tu contraseña."):mostrarExito("password"),actualizarEstadoBoton()}function manejarSubmit(a){const o=emailInput.value,r=passwordInput.value;let i=0;""===o.trim()?(mostrarError("email","Por favor, ingresa tu correo electrónico."),i++):validarEmail(o)?mostrarExito("email"):(mostrarError("email","El email no cumple con un formato válido."),i++),""===r.trim()?(mostrarError("password","Por favor, ingresa tu contraseña."),i++):mostrarExito("password"),i>0&&a.preventDefault()}function actualizarEstadoBoton(){habilitarBoton("loginForm",sonTodosLosCamposValidos())}function sonTodosLosCamposValidos(){const a=validarEmail(emailInput.value),o=validarPassword(passwordInput.value);return a&&o}